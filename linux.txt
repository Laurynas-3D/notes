
(date "+%Y-%m-%d %H:%M" && uptime -p && echo " ") >> /home/laurynas/repos/time.txt


echo "alias hello='echo hello'" >> ~/.bashrc	- save to bash 
alias tlog='(date "+%Y-%m-%d %H:%M" && uptime -p && echo " ") >> /home/laurynas/repos/time.txt'

tlog	- (date "+%Y-%m-%d %H:%M" && uptime -p && echo " ") >> time.txt
dup 	- docker-compose up -d

#--------------------Basics 


apt-get update			- get updates / debian
apt list --upgradable		- list upgradable Linux packages / debian
apt-get upgrade			- install updates / debian
apt full-upgrade		- Removes old packages if needed to perform the upgrade of packages to their latest versions
apt-get dist-upgrade		- distro update to newest version
apt-get update && apt-get dist-upgrade - upgrade distro, might need to full upgrade before this one
apt list --installed | wc -l	- display installed packages and pass it to word count with count lines flag
sudo apt list --installed | grep php - show php packages only

flatpak --user uninstall glimpse
sudo apt-get purge glimpse

dnf update			- get Linux packages updates / RedHat

sudo snap refresh		- 

POP_OS
sudo apt update && sudo apt upgrade -y && flatpak update -y
sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y && flatpak update -y


#--------------------Linux Shell Navigation CLI / Basics

echo $SHELL			- bash location
which bash			- bash location
CTRL+D				- close current shell session
CTRL+L				- clears screen (clear command)
CTRL+A				- goes to beggining on the line
CTRL+E				- goes to an end on the line
ALT+F				- one word forward (words delimited by whitespace and symbols)
ALT+B				- one word backwards (words delimited by whitespace and symbols)
history				- shows yours shell history
CTRL+R				- reverse search of history, type to find most recent matches
CTRL+G				- after typing in reverse history lets you out and lets continue write command
CTRL+K				- Terminal - deletes line
CTRL+A				- Terminal - takes to beggining of the line
CTRL-Y				- Terminal - return deleted text
snap list			- Terminal - displays information for each Snapshot copy on a storage system
dpkg -l				- show installed packages list
sudo snap remove <pkg-name>	- uninstall snap package / delete /remove
sudo apt remove <pkg-name> 	- uninstall package / delete / remove

chmod +x /path/to/your/file 	- make executable



#--------------------Other Popular Commands

uname -a			- prints Linux version
uname -r			- prints kernel version
hostname			- shows computer name
sudo hostname <device_name>	- change computer name 
neofetch			- fetch system information
htop				- display system load in terminal 

reboot				- reboots machine
poweroff			- power off machine
su				- enter root mode 
exit				- exit root mode
clear				- clear the screen
ls 					- list folder contents
ls -l				- long list with permissions
ls -lh				- long list with human readable file size
lsmod				- Show the status of modules in the Linux Kernel
lsusb				- list usb devices
lsblk				- list information about block devices / tree view

pwd				- print working directory
pushd				- saves current working directory in memory so it can be returned quickly
popd				- returns to the path at the top of directory stack

cp				- copy file / (cp ~/.bashrc bashrc.txt)
nano <filename.txt>		- opens file editor 
rm <file-name.txt>		- remove/delete one file at a time
rm -rf <folder-name>			- remove/delete recursively directory
mv <filename> <new-filename>	- rename file, in same directory
less <readme.md>		- see in terminal file contents, for many rows better / CANT edit/
cat <filename.txt>		- see in terminal file contents, for tiny files better 
chmod +x <filename.txt> 	- make executable
touch <filename.txt>		- create file
locate <filename.nse>		- finds file or something
./filename.txt 			- run executable file
tail -f <filename.txt>		- live feed, instance changes in a file in terminal
cat -n <file-name>		- show file contents in terminal, with line numbers
locate <something>		- search and display results in terminal

df -h				- display file system disk space usage, h is for human readable format
alias				- display alias'es and some basic info
alias neo=neofetch		- create alias for neofetch tool 

less /etc/passwd 			- Get a List of All Users using the /etc/passwd File
awk -F: '{ print $1}' /etc/passwd 	- display only the username
cut -d: -f1 /etc/passwd 		- display only the username


top				- RAM and CPU usage monitor (not beautifull)
locate <*.txt>			- finds with wildcard

passwd				- change current user password
makepasswd			- generate simple password
makepasswd --chars 16		- generate password with 16 chars
makepasswd --chars 16 --count 7 - generate 7 passwords with 16 chars

uptime				- return system running time
uptime -p 			- return system running time
uptime > file.txt		- write output to file
uptime >> file.txt		- write output to file and append data
(date && uptime -p) >> test.txt	- write two output lines in to file with append
(date "+%Y-%m-%d %H:%M:%S " && uptime -p)	- format date with uptime

last				- show log of computer login logout

service <service> start		- 
service <service> stop		- 
service <service> restart	-
service <service> status	- 

cal				- Simple ASCI calendar
fortune				- displays a pseudorandom message from a database of quotations
fdisk -l			- list partitions

nslookip linuxquestions.org 	- check website IP
ping linuxquestions.org 	- ping to website. 



--------------------ALIAS

alias tlog='(date "+%Y-%m-%d %H:%M" && uptime -p && echo " ") >> time.txt'



--------------------Network

ifconfig			- list detailed all network interfaces available
iwconfig			- list detailed all wireless interfaces available
nmcli device status		- list available devices and their status
nmcli dev wifi			- list wifi with / SSID, signal strenght, security type, channel
sudo iwlist scan 		- list wifi networks detailed 
ip link show			- list network interfaces
route				- displays or modifies the IP routing table
nmap 192.168.1.1 -vv		-
nmap localhost			- scans for open ports 

aireplay-ng -0 0 -a <mac_addr> <card_name> - DOS with deauth
airodump-ng <net_card_interface> - 


--------------------CentOS/RHEL/Fedora

How to list installed packages order by size in CentOS/RHEL/Fedora Systems using rpm Command

rpm -qa --queryformat '%10{size} - %-25{name} \t %{version} \t %{os} \n' | sort -rh | head -25 | awk '{print $1/1024/1024, $2, $3, $4}'


--------------------Fedora

Upgrade distro over CLI

sudo dnf upgrade --refresh
reboot
sudo dnf install dnf-plugin-system-upgrade
sudo dnf system-upgrade download --refresh --releasever=32
sudo dnf system-upgrade reboot


Virtual Box Shared folder add user (on ubuntu insert guest additions cd image, in Devices menu)
sudo usermod -aG <group> <user>
sudo usermod -aG vboxsf laurynas


--------------------Debian/Ubuntu

How to list installed packages order by size in Debian/Ubuntu Systems using dpkg-query Command

dpkg-query --show --showformat='${Installed-Size}\t${Package}\n' | sort -rh | head -25 | awk '{print $1/1024, $2}'


--------------------DKali Goodies

ParrotSec's anonsurf and stealth, ported to work with Kali Linux.
https://github.com/Und3rf10w/kali-anonsurf

--------------------ROUTINES

ifconfig <net_card_interface> down
iwconfig <net_card_interface> mode monitor
ifconfig <net_card_interface> up
airmon-ng check <net_card_interface> 
kill 1234 	// Network Manager first
kill 1234	// dhclient
kill 1234	// wpa_supplicant
kill 1234	// everything whats left
airmon-ng check <net_card_interface> 
airodump-ng <net_card_interface>		// SCAN for networks
aireplay-ng -0 0 -a <mac_addr> <card_name> 	// DOS with deauth


#------------------- BASH #-------------------


-----Auto Install App
<file-name>.sh
#! /bin/bash

# install Sublime 
echo "Installing Sublime: "
sleep 1
wget -qO - https://download.sublimetext.com/sublimehq-pub.gpg | sudo apt-key add -
sleep 1
echo "deb https://download.sublimetext.com/ apt/stable/" | sudo tee /etc/apt/sources.list.d/sublime-text.list
sleep 1
sudo apt-get update
sleep 1
sudo apt-get install sublime-text


#------------------- LINUX APPS #------------------- 


----------------------------------------------

Building and Installing the OneDrive Free Client

https://github.com/abraunegg/onedrive/blob/master/docs/INSTALL.md

----------------------------------------------
Bluetooth manager blueman

sudo apt-get install blueman

----------------------------------------------
Take and edit screenshots in Linux with Flameshot

sudo apt install flameshot

----------------------------------------------
f3 - Fight Flash Fraud
f3 is a simple tool that tests flash cards capacity and performance to see if they live up to claimed specifications.
https://fight-flash-fraud.readthedocs.io/en/stable/
https://github.com/AltraMayor/f3

----------------------------------------------
Proxy Web browsing (Ubuntu, Kali Linux)

anonsurf 

https://github.com/Und3rf10w/kali-anonsurf

-$ cd kali-anonsurf/
-$ ./installer.sh
-$ anonsurf start

	-$ anonsurf --help
	-$ anonsurf  start
	-$ anonsurf  stop
	-$ anonsurf restart
	-$ anonsurf change
	-$ anonsurf status
	-$ anonsurf myip


################# LINUX HOW-TO ################# 

------ DOCKER

docker ps 		// list containers running
docker ps -a 	// list containers all


START CONTAINER
cd <project-directory>
docker-compose up 		// start container
docker-compose up -d 	// start container with detached service



NEW CONTAINER
after git clone
copy make_env.sh file
run "./make_env.sh"
docker-compose up --build -d
defines.inc.php set '_PS_MODE_DEV_', true
run "cp app/config/parameters.php.dist app/config/parameters.php"
docker-compose.yml check user:
    user: "${UID}:${GID}" # <= .Read from env
connect to presta admin panel links with port in README.md -> 
	in admin panel Shop Parameters > Traffic & SEO > Set shop URL click Save

defines.inc.php set '_PS_MODE_DEV_', false


IMPORTANT FILES
docker-compose.yml
parameters.php




---

FORCE RECREATE
docker-compose up --build -d --force-recreate	//force recreate image container from image

STOP CONTAINER
docker stop <name>
docker stop skonis_mariadb_1
docker stop skonis_phpmyadmin_1
docker stop skonis_prestashop_1



------ DOCKER/SYMFONY ERROR

The stream or file "/var/www/MONPROJET/var/log/dev.log" could not be opened: failed

sudo chown -R www-data:www-data /var/www/html
sudo chown -R www-data:www-data /var/www/
sudo chown -R www-data:www-data var/



------ Linux Zip utility

-> Option with single zip file

zip -v -r -9 /home/laurynas/backup/documents.zip /home/laurynas/Documents/ && zip -v -r -9 /home/laurynas/backup/pictures.zip /home/laurynas/Pictures/ && zip -v -r -9 /home/laurynas/backup/downloads.zip /home/laurynas/Downloads/ && zip -v -r -9 /home/laurynas/backup/repos.zip /home/laurynas/repos/

-v : verbose mode
-r : recursive mode (include all files in that dir)
-0 : compression level (0 least, 6 default, 9 best)


-> Option with files split
1. Zip files 

-v : verbose mode
-s : split mode (k - kilobytes, m - megabytes, g - gigabytes)
-r : recursive mode (include all files in that dir)
-0 : compression level (0 least, 6 default, 9 best)

zip -v -s 1m -r zip-file.zip foldername-to-archive


2. Concatenate files

cat zip.z* > full.zip


3. Unzip

unzip full.zip (does not work)
decompress in file manager


------ cURL 
sudo apt-get install curl

GET:
with JSON:
curl -i -H "Accept: application/json" -H "Content-Type: application/json" -X GET http://hostname/resource

POST:
curl --data "param1=value1&param2=value2" http://hostname/resource


Pretty-printing the curl results:
For JSON:
If you use npm and nodejs, you can install json package by running this command:

npm install -g json

Usage:

curl -i -H "Accept: application/json" -H "Content-Type: application/json" -X GET http://hostname/resource | json

https://stackoverflow.com/questions/14978411/http-post-and-get-using-curl-in-linux


------ Bluetooth Keyboard connectivity issues

sudo apt-get install blueman

modprobe btusb // if blueman app does not solve the problem


------ Resize logical partitions - reduce root / extend home

We need to check logical disks mount paths

df -h / sudo fdisk -l
Or use Disks app

sudo apt install lvm2
First remove 30 GB from /root
lvresize -L -30G --resizefs /dev/mapper/…(root)
Add 30 GB to home partition
lvresize -L +30G --resizefs /dev/mapper/…(home)



------ Increase swap file size

In the following example, we’ll extend the swap space available in the /swapfile from 4 GB to 8 GB.

Turn off all swap processes 
sudo swapoff -a

2. Resize the swap
sudo dd if=/dev/zero of=/swapfile bs=1G count=8

	if = input file
	of = output file
	bs = block size
	count = multiplier of blocks

3. Change permission
sudo chmod 600 /swapfile

4. Make the file usable as swap
sudo mkswap /swapfile

5. Activate the swap file
sudo swapon /swapfile

6. Edit /etc/fstab and add the new swapfile if it isn’t already there
/swapfile none swap sw 0 0

7. Check the amount of swap available
grep SwapTotal /proc/meminfo


--- Optional
https://stackoverflow.com/questions/44950904/swap-file-returns-to-original-size-after-reboot
8. After restart swap file is not enabled
sudo swapon /swapfile 


------ Start command as root 

sudo nano /etc/rc.local

#!/bin/sh -e
swapon /swapfile
chmod 666 /var/run/docker.sock
exit 0

CTRL+O  -save
CTRL+X 	-exit

sudo chmod +x /etc/rc.local

// The commands in the file before exit 0 will be run as root at startup

------ How to add a custom shortcut

Settings -> Devices -> Keyboard Shortcuts
Scroll down -> click add

Name: Terminal
Command: gnome-terminal
Shortcut: CTRL+R


------ How to disable all password prompts

http://www.ubuntugeek.com/how-to-dis...in-ubuntu.html
In terminal, run the command:
sudo visudo
Find the line that says
%admin ALL=(ALL) ALL
and change it to
%admin ALL=(ALL) NOPASSWD: ALL
Save and exit the file


------ The Video file cannot be played On Firefox

sudo dnf install vlc


------ Prevent Sleep on Lid Close in the Fedora 30 Terminal

Login and sudo vi /etc/systemd/logind.conf
Find the line HandleLidSwitch=ignore and uncomment it (remove the # at the beginning of the line). If for some reason the line isn’t there, add it to the bottom of the file. Write and quit.
Restart the systemd daemon with sudo systemctl restart systemd-logind


------Installing MySQL

sudo apt install mysql-server


------Install Older php on Ubuntu

1: add the PPA maintained by Ondrej Surý
sudo add-apt-repository ppa:ondrej/php

2: install PHP versions 7.2
sudo apt install php7.2

3: Select the standard version of PHP
sudo update-alternatives --set php /usr/bin/php7.2

4: Disable version 7.4 or the one you are using
sudo a2dismod php7.4

5: enable version 7.2
sudo a2enmod php7.2

6: Restart the apache server
sudo systemctl restart apache2

7: Install addiotinal packages
sudo apt install php7.2-common php7.2-mysql php7.2-xml php7.2-xmlrpc php7.2-curl php7.2-gd php7.2-imagick php7.2-cli php7.2-dev php7.2-imap php7.2-mbstring php7.2-opcache php7.2-soap php7.2-zip php7.2-intl -y


------Install Postman

2. Download Postman App on Ubuntu
wget https://dl.pstmn.io/download/latest/linux64

3. Extract Postman Linux64 compressed file
sudo tar -xvf linux64 -C /usr/bin

4. Add this API testing tool to system PATH
export PATH=$PATH:/usr/bin/Postman

4.1. Now, to run the API testing tool interface, simply type:
Postman

5. Create Desktop & Launcher Shortcut
sudo nano /usr/share/applications/Postman.desktop

5.1. Copy and paste the following lines:
[Desktop Entry]
Name=Postman API Tool
GenericName=Postman
Comment=Testing API
Exec=/usr/bin/Postman/Postman
Terminal=false
X-MultipleArgs=false
Type=Application
Icon=/usr/bin/Postman/app/resources/app/assets/icon.png
StartupWMClass=Postman
StartupNotify=true

Save the file with Ctrl + O and Enter and close editor with Ctrl + X.


Optional ->

6. Copy the created shortcut to desktop as well:

cp /usr/share/applications/Postman.desktop ~/Desktop/

6.1 Allow launching
Right-click on the created shortcut of Postman on Desktop and select the “Allow launching” option.


https://www.how2shout.com/linux/how-to-install-postman-on-ubuntu-20-04-lts-linux/


------Install activeCollab

change application name with single word
cd /opt/active-collab-timer
sudo mv Active\ Collab\ Timer Active
sudo mv "/opt/active-collab-timer/Active Colab Timer" /opt/active-collab-timer/Active

install library
sudo apt-get install libgconf-2-4

change path in config file to open from search
cd /usr/share/applications
sudo nano activecollab-timer.desktop
Exec=/opt/active-collab-timer/Active



