
mysql -u debian-sys-maint -p


CREATE DATABASE worhan;
USE worhan
source <file-name>.sql

-------

alter table posts AUTO_INCREMENT = 6

-------

USE <db-name>;

SELECT <column-name> FROM <table-name>
or
SELECT * FROM <table-name>					//selects everything
FROM <table-name>
WHERE <column-name> = 1
ORDER BY <column-name>

SELECT <column-name>, <column-name> FROM <table-name>

SELECT first_name, last_name, points, points + 10
FROM <customers>

SELECT 
	first_name, 
	last_name, 
	points, 
	(points + 10)*100 AS discount_factor	// aliasing
FROM <customers>

SELECT 
	first_name, 
	last_name, 
	points, 
	(points + 10)*100 AS "discount factor"	// with whitespace in name
FROM <customers>


------- PRESTA

<?php

// correct create TABLE with some columns
return Db::getInstance()->execute('
            CREATE TABLE IF NOT EXISTS `'._DB_PREFIX_.'client_manager` (
            `client_manager_id` int(11) NOT NULL AUTO_INCREMENT,
            `customer_id` int(10) unsigned NOT NULL,
            `employee_id` int(10) unsigned NOT NULL,
            PRIMARY KEY  (`client_manager_id`)
            ) ENGINE='._MYSQL_ENGINE_.' DEFAULT CHARSET=utf8;');



// correct GET single value
// return from TABLE client_manager 
return (int)Db::getInstance()->getValue('SELECT `employee_id` FROM `'._DB_PREFIX_.'client_manager` WHERE `customer_id` = '.$customerId);



//correct INSERT
Db::getInstance()->execute('
			INSERT INTO `' . _DB_PREFIX_ . 'client_manager` (`id`, `customer_id`, `employee_id`) 
            VALUES (NULL, '. $idCustomer.', ' . $idEmployee . ');');




//correct UPDATE
db::getInstance()->update('client_manager', array('employee_id' => $idEmployee), 'customer_id = '.$idCustomer);




-----------

SELECT Customers.CustomerName, Orders.OrderID
FROM Customers
LEFT JOIN Orders ON Customers.CustomerID = Orders.CustomerID
ORDER BY Customers.CustomerName;



SELECT ps_product.id_product, ps_category_lang.id_category
FROM ps_product
LEFT JOIN ps_category_lang ON ps_product.id_product = ps_category_lang.id_category
-- ORDER BY Customers.CustomerName;


SELECT `id_product`, `ean13`, `upc`, `reference` 
FROM ps_product 
LEFT JOIN `ps_category_lang` cl 
ON cl.id_category = ps_product.id_category_default
AND `id_lang` = 3;

-- WHERE `id_lang` = 3;



SELECT ps_product.id_product, ps_product.id_category_default, ps_product.ean13, ps_product.upc, ps_product.reference, ps_category_lang.id_category, ps_category_lang.name, ps_category_lang.id_lang
FROM ps_product
LEFT JOIN ps_category_lang ON ps_product.id_category_default = ps_category_lang.id_category;


SELECT ps_product.id_product, ps_product.id_category_default, ps_product.ean13, ps_product.upc, ps_product.reference, ps_category_lang.name, ps_category_lang.id_lang
FROM ps_product
LEFT JOIN ps_category_lang ON ps_product.id_category_default = ps_category_lang.id_category
AND ps_category_lang.id_lang = 3;

